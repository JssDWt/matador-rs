<!DOCTYPE html>
<html>
  <head>
    <title>Perplexity API Test</title>
  </head>
  <body>
    <button id="apiButton">Get Answer</button>
    <div id="responseDiv"></div>

    <script>
      document
        .getElementById("apiButton")
        .addEventListener("click", function () {
          fetch(
            "https://matador-replit.kody.repl.co/perplexity/chat/completions",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                model: "mistral-7b-instruct",
                messages: [
                  {
                    role: "system",
                    content: "Be precise and concise.",
                  },
                  {
                    role: "user",
                    content: "How many stars are there in our galaxy?",
                  },
                ],
              }),
            }
          )
            .then((response) => response.json())
            .then((data) => {
              document.getElementById("responseDiv").innerText = JSON.stringify(
                data,
                null,
                2
              );
            });
        });
    </script>
  </body>
</html>
